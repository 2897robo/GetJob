# âœ… í”„ë¡ì‹œ(Proxy) íŒ¨í„´ì´ë€?

í”„ë¡ì‹œ íŒ¨í„´ì€ ì–´ë–¤ ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ê¸° ìœ„í•´ **ëŒ€ë¦¬ì ê°ì²´(Proxy)**ë¥¼ ì‚¬ìš©í•˜ëŠ” êµ¬ì¡°ì  ë””ìì¸ íŒ¨í„´ì…ë‹ˆë‹¤.

> ì¦‰, "ì›ë˜ ê°ì²´ì— ì§ì ‘ ì ‘ê·¼í•˜ì§€ ì•Šê³  ëŒ€ë¦¬ ê°ì²´ë¥¼ í†µí•´ ì ‘ê·¼"í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.

---

## ğŸ§  ì–¸ì œ ì“°ëŠ” íŒ¨í„´ì¸ê°€?

- ê°ì²´ ìƒì„± ë¹„ìš©ì´ í´ ë•Œ (ex. ì´ë¯¸ì§€, ë„¤íŠ¸ì›Œí¬ ë¦¬ì†ŒìŠ¤)
- ë³´ì•ˆìƒ ì§ì ‘ ì ‘ê·¼ì„ ë§‰ì•„ì•¼ í•  ë•Œ
- ì ‘ê·¼ ì „/í›„ì— ë¶€ê°€ ë¡œì§ì„ ì¶”ê°€í•˜ê³  ì‹¶ì„ ë•Œ
- í´ë¼ì´ì–¸íŠ¸ì™€ ì‹¤ì œ ê°ì²´ ì‚¬ì´ì— ì¸í„°í˜ì´ìŠ¤ë¥¼ ìœ ì§€í•˜ê³  ì‹¶ì„ ë•Œ

---

## ğŸ¯ í”„ë¡ì‹œ íŒ¨í„´ì˜ êµ¬ì¡°

```text
Client --> Proxy --> RealSubject (ì§„ì§œ ê°ì²´)
```

- **Subject**: RealSubjectì™€ Proxyê°€ êµ¬í˜„í•  ê³µí†µ ì¸í„°í˜ì´ìŠ¤
- **RealSubject**: ì‹¤ì œë¡œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•˜ëŠ” í´ë˜ìŠ¤
- **Proxy**: RealSubjectì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´í•˜ëŠ” ëŒ€ë¦¬ì

---

## ğŸ”§ Java ì˜ˆì‹œ (ì¸í„°í˜ì´ìŠ¤ ê¸°ë°˜)

```java
public interface Service {
    void request();
}

public class RealService implements Service {
    @Override
    public void request() {
        System.out.println("[RealService] ì‹¤ì œ ì„œë¹„ìŠ¤ ì‹¤í–‰");
    }
}

public class ProxyService implements Service {
    private RealService realService;

    @Override
    public void request() {
        System.out.println("[Proxy] ì ‘ê·¼ ì œì–´ ë° ë¡œê¹… ì‹œì‘");
        if (realService == null) {
            realService = new RealService();
        }
        realService.request();
        System.out.println("[Proxy] ì ‘ê·¼ ì œì–´ ë° ë¡œê¹… ì¢…ë£Œ");
    }
}
```

### ğŸ” ì‚¬ìš© ì½”ë“œ
```java
public class Main {
    public static void main(String[] args) {
        Service service = new ProxyService();
        service.request();
    }
}
```

---

## ğŸŒ€ ìŠ¤í”„ë§ì—ì„œì˜ í”„ë¡ì‹œ í™œìš©

Springì€ AOPë¥¼ í†µí•´ í”„ë¡ì‹œ íŒ¨í„´ì„ ë‚´ë¶€ì ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

- `@Transactional`, `@Async`, `@Cacheable` ê°™ì€ ê¸°ëŠ¥ë“¤
- ëª¨ë‘ **í”„ë¡ì‹œ ê°ì²´ë¥¼ í†µí•´** ë™ì‘ (ì‹¤ì œ ë©”ì„œë“œ í˜¸ì¶œ ì „ì— ë¶€ê°€ ê¸°ëŠ¥ ì‹¤í–‰)

### ì˜ˆ: `@Transactional`
```java
@Service
public class OrderService {
    @Transactional
    public void placeOrder() {
        // DB íŠ¸ëœì­ì…˜ ì²˜ë¦¬ë¨ (í”„ë¡ì‹œê°€ ê°ì‹¸ê³  ìˆìŒ)
    }
}
```

---

## ğŸ“Œ í”„ë¡ì‹œ íŒ¨í„´ì˜ ì¥ë‹¨ì 

| ì¥ì  | ë‹¨ì  |
|------|------|
| ì ‘ê·¼ ì œì–´, ë¡œê¹…, ì§€ì—° ë¡œë”© ë“± ìœ ìš©í•¨ | í´ë˜ìŠ¤ ìˆ˜ ì¦ê°€ ê°€ëŠ¥ |
| ì›ë³¸ ê°ì²´ì— ì˜í–¥ ì—†ì´ ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥ | ì½”ë“œ êµ¬ì¡°ê°€ ë³µì¡í•´ì§ˆ ìˆ˜ ìˆìŒ |
| ê°ì²´ ìƒì„±ì„ ë‚˜ì¤‘ì— ë¯¸ë£° ìˆ˜ ìˆìŒ (Lazy loading) | ì˜ëª» ì„¤ê³„ ì‹œ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€ |

---

## âœ… ì •ë¦¬

- í”„ë¡ì‹œ íŒ¨í„´ì€ **ì›ë˜ ê°ì²´ì— ëŒ€í•œ ì ‘ê·¼ì„ ì œì–´**í•˜ëŠ” ë° ì‚¬ìš©
- ìŠ¤í”„ë§ì˜ ë§ì€ ê¸°ëŠ¥ì€ í”„ë¡ì‹œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘ (ex. AOP, íŠ¸ëœì­ì…˜)
- **êµ¬ì¡°ì  íŒ¨í„´**ì´ë©°, **ë³´ì•ˆ, ì„±ëŠ¥, ë¡œê¹…, íŠ¸ë˜í”½ ì œì–´ ë“±** ë‹¤ì–‘í•œ ìƒí™©ì—ì„œ ìœ ìš©
