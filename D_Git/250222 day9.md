# 2025ë…„ 2ì›” 22ì¼ - Git í•™ìŠµ 9ì¼ì°¨

## ğŸ“Œ Git Hooks & GitHub Actions (CI/CD) ì‹¤ìŠµ

### **1. Git Hooks ê°œë… ë° ì‹¤ìŠµ**
Git HooksëŠ” íŠ¹ì • Git ì´ë²¤íŠ¸(ì»¤ë°‹, í‘¸ì‹œ ë“±) ë°œìƒ ì‹œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ì´ë‹¤. ì´ë¥¼ í™œìš©í•˜ì—¬ **ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬, ë¹Œë“œ í…ŒìŠ¤íŠ¸ ì‹¤í–‰, ë°°í¬ ìë™í™”** ë“±ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.

#### **âœ” Git Hooks ì¢…ë¥˜**
- **pre-commit** â†’ ì»¤ë°‹ ì „ì— ì‹¤í–‰ (ì˜ˆ: ì½”ë“œ ìŠ¤íƒ€ì¼ ê²€ì‚¬, ìë™ í¬ë§·íŒ…)
- **pre-push** â†’ í‘¸ì‹œ ì „ì— ì‹¤í–‰ (ì˜ˆ: ë¹Œë“œ ì‹¤í–‰, í…ŒìŠ¤íŠ¸ ê²€ì¦)

#### **ğŸ” pre-commit í›… (ìë™ ì½”ë“œ í¬ë§·íŒ…)**
```bash
#!/bin/bash
echo "ğŸ” Running pre-commit hook for Java formatting..."

# Google Java Format ë‹¤ìš´ë¡œë“œ
FORMATTER_JAR="google-java-format-1.17.0-all-deps.jar"
if [ ! -f "$FORMATTER_JAR" ]; then
  echo "â¬‡ï¸ Downloading Google Java Format..."
  curl -o $FORMATTER_JAR -L https://github.com/google/google-java-format/releases/download/v1.17.0/google-java-format-1.17.0-all-deps.jar
fi

# ë³€ê²½ëœ Java íŒŒì¼ ìë™ í¬ë§·íŒ…
FILES=$(git diff --cached --name-only --diff-filter=ACM | grep '\.java$')
if [ -z "$FILES" ]; then
  echo "âœ… No Java files to format."
  exit 0
fi

for file in $FILES; do
  echo "âš™ï¸ Formatting $file ..."
  java -jar $FORMATTER_JAR --replace "$file"
  git add "$file"
done

echo "âœ… Java formatting completed. Proceeding with commit."
```
âœ… **ì—­í• :** ì»¤ë°‹ ì „ì— Java ì½”ë“œ ìŠ¤íƒ€ì¼ì„ ìë™ í¬ë§·í•˜ì—¬ ê°€ë…ì„±ì„ ìœ ì§€í•¨.

#### **ğŸ” pre-push í›… (ë¹Œë“œ & í…ŒìŠ¤íŠ¸ ì‹¤í–‰)**
```bash
#!/bin/bash
echo "ğŸ” Running pre-push hook for Java build & test..."

FILES=$(git diff --name-only --cached --diff-filter=ACM | grep '\.java$')
if [ -z "$FILES" ]; then
  echo "âœ… No Java files to compile."
  exit 0
fi

# Java ë¹Œë“œ ì‹¤í–‰
javac -d out $(find src -name "*.java")
if [ $? -ne 0 ]; then
  echo "âŒ Compilation failed. Push aborted!"
  exit 1
fi

# JUnit í…ŒìŠ¤íŠ¸ ì‹¤í–‰
java -cp out:lib/junit-4.13.2.jar org.junit.runner.JUnitCore MyTests
if [ $? -ne 0 ]; then
  echo "âŒ Tests failed! Push aborted."
  exit 1
fi

echo "âœ… Tests passed. Proceeding with push."
```
âœ… **ì—­í• :** í‘¸ì‹œ ì „ì— Java ì½”ë“œê°€ ì •ìƒì ìœ¼ë¡œ ë¹Œë“œ & í…ŒìŠ¤íŠ¸ë¥¼ í†µê³¼í•˜ëŠ”ì§€ ê²€ì¦í•¨.

---

### **2. GitHub Actions (CI/CD) ê°œë… ë° ì‹¤ìŠµ**
GitHub ActionsëŠ” GitHubì—ì„œ ì œê³µí•˜ëŠ” **CI/CD ìë™í™” ë„êµ¬**ë¡œ, **ì½”ë“œ ë³€ê²½ ì‹œ ìë™ìœ¼ë¡œ ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë°°í¬**í•˜ëŠ” ì—­í• ì„ í•œë‹¤.

#### **âœ” GitHub Actions ì£¼ìš” ê°œë…**
- **Workflow**: CI/CD ìë™í™” ê³¼ì • (YAML íŒŒì¼ë¡œ ì •ì˜)
- **Jobs**: ê°œë³„ ì‹¤í–‰ ë‹¨ìœ„ (ex: ë¹Œë“œ, í…ŒìŠ¤íŠ¸, ë°°í¬)
- **Steps**: Job ë‚´ ì‹¤í–‰ë˜ëŠ” ëª…ë ¹ë“¤
- **Runners**: GitHubì´ ì œê³µí•˜ëŠ” ì‹¤í–‰ í™˜ê²½ (Linux, macOS, Windows)

#### **ğŸ” GitHub Actions ì„¤ì • íŒŒì¼ (`ci.yml`)**
```yaml
name: Java CI/CD

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
    - name: Checkout Repository
      uses: actions/checkout@v3

    - name: Set up Java
      uses: actions/setup-java@v3
      with:
        java-version: '17'
        distribution: 'temurin'

    - name: Download JUnit
      run: |
        mkdir -p lib
        curl -o lib/junit-4.13.2.jar https://repo1.maven.org/maven2/junit/junit/4.13.2/junit-4.13.2.jar
        curl -o lib/hamcrest-core-1.3.jar https://repo1.maven.org/maven2/org/hamcrest/hamcrest-core/1.3/hamcrest-core-1.3.jar

    - name: Compile Java Code
      run: |
        mkdir -p out
        javac -d out -cp lib/junit-4.13.2.jar:lib/hamcrest-core-1.3.jar $(find src -name "*.java")

    - name: Run Tests
      run: java -cp out:lib/junit-4.13.2.jar:lib/hamcrest-core-1.3.jar org.junit.runner.JUnitCore MyTests
```
âœ… **ì—­í• :**
- Java 17 í™˜ê²½ ì„¤ì •
- `JUnit` ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ì—¬ classpathì— ì¶”ê°€
- Java ì½”ë“œ ì»´íŒŒì¼ ë° JUnit í…ŒìŠ¤íŠ¸ ì‹¤í–‰

---

## **ğŸ“Œ ì˜¤ëŠ˜ì˜ í•™ìŠµ ì •ë¦¬**
- **Git Hooks**: pre-commit & pre-push í™œìš©í•˜ì—¬ ì½”ë“œ í’ˆì§ˆ ìœ ì§€
- **GitHub Actions**: CI/CD íŒŒì´í”„ë¼ì¸ êµ¬ì¶•í•˜ì—¬ ìë™í™”ëœ ë¹Œë“œ & í…ŒìŠ¤íŠ¸ ì„¤ì •
- **ì˜¤ë¥˜ í•´ê²° ê³¼ì •**ì„ í†µí•´ ì‹¤ë¬´ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ë¬¸ì œ í•´ê²° ëŠ¥ë ¥ í–¥ìƒ

![](https://i.ibb.co/JF7kV1pY/2025-02-22-13-14-05.png)