# Java Day3 í•™ìŠµë‚´ìš©

---

### **ğŸ“Œ 1. Enum (`HttpStatus` ì˜ˆì œ)**
- **Enumì„ í™œìš©í•œ ìƒíƒœ ì½”ë“œ ë§¤í•‘**
- `static {}` ë¸”ë¡ì„ ì‚¬ìš©í•œ `Map<Integer, HttpStatus>` ì´ˆê¸°í™”
- `HttpStatus.fromCode(400)` í˜¸ì¶œ ì‹œ ë™ì‘ ì›ë¦¬

**ì½”ë“œ ì˜ˆì œ**
```java
import java.util.HashMap;
import java.util.Map;

public enum HttpStatus {
    OK(200, "ì„±ê³µ"),
    BAD_REQUEST(400, "ì˜ëª»ëœ ìš”ì²­"),
    NOT_FOUND(404, "ì°¾ì„ ìˆ˜ ì—†ìŒ");

    private final int code;
    private final String message;
    private static final Map<Integer, HttpStatus> map = new HashMap<>();

    static {
        for (HttpStatus status : HttpStatus.values()) {
            map.put(status.code, status);
        }
    }

    HttpStatus(int code, String message) {
        this.code = code;
        this.message = message;
    }

    public static HttpStatus fromCode(int code) {
        return map.get(code);
    }

    public String getMessage() {
        return message;
    }
}

public class Main {
    public static void main(String[] args) {
        HttpStatus status = HttpStatus.fromCode(200);
        System.out.println(status + " : " + status.getMessage());
    }
}
```

---

### **ğŸ“Œ 2. `static {}` ë¸”ë¡**
- **ì •ì  ì´ˆê¸°í™” ë¸”ë¡**
- í´ë˜ìŠ¤ê°€ ì²˜ìŒ ë¡œë“œë  ë•Œ í•œ ë²ˆë§Œ ì‹¤í–‰ë¨
- **Enumì˜ `Map` ì´ˆê¸°í™” ë“±ì— í™œìš©ë¨**

---

### **ğŸ“Œ 3. String vs new String**
- `"hello"` : **String Pool ì‚¬ìš© â†’ ë©”ëª¨ë¦¬ ì ˆì•½**
- `new String("hello")` : **Heapì— ìƒˆë¡œìš´ ê°ì²´ ìƒì„± â†’ ë¶ˆí•„ìš”í•œ ë©”ëª¨ë¦¬ ë‚­ë¹„ ê°€ëŠ¥**
- **ë¬¸ìì—´ ì—°ì‚°ì´ ë§ìœ¼ë©´ `StringBuilder`, `StringBuffer` ì‚¬ìš©**

---

### **ğŸ“Œ 4. `StringBuilder` vs `StringBuffer`**
| í´ë˜ìŠ¤ | Thread-safe | íŠ¹ì§• |
|--------|-------------|-----------------|
| `StringBuilder` | âŒ | ë‹¨ì¼ ìŠ¤ë ˆë“œì—ì„œ ë¹ ë¦„ |
| `StringBuffer` | âœ… | ë©€í‹° ìŠ¤ë ˆë“œì—ì„œ ì•ˆì „ |

```java
StringBuilder sb = new StringBuilder("Hello");
sb.append(" World");
System.out.println(sb); // Hello World
```

---

### **ğŸ“Œ 5. Optional (NPE ë°©ì§€)**
- `Optional.empty()`, `Optional.of()`, `Optional.ofNullable()` ì°¨ì´
- `isPresent()`, `orElse()`, `ifPresent()` í™œìš©

```java
Optional<String> name = Optional.ofNullable(null);
System.out.println(name.orElse("Unknown")); // Unknown ì¶œë ¥
```

---

### **ğŸ“Œ 6. ê°ì²´ ë¹„êµ (`==` vs `equals()`)**
- `==` : **ë©”ëª¨ë¦¬ ì£¼ì†Œ ë¹„êµ**
- `equals()` : **ê°’ ë¹„êµ (ê°ì²´ ë‚´ë¶€ ê°’ì´ ê°™ì€ì§€ í™•ì¸)**

```java
Integer a = new Integer(1);
Integer b = new Integer(1);

System.out.println(a == b); // false (ì£¼ì†Œ ë¹„êµ)
System.out.println(a.equals(b)); // true (ê°’ ë¹„êµ)
```

---

### **ğŸ“Œ 7. Comparable vs Comparator**
- `Comparable` : ê¸°ë³¸ ì •ë ¬ (`compareTo` ë©”ì„œë“œ êµ¬í˜„)
- `Comparator` : **ì»¤ìŠ¤í…€ ì •ë ¬ ê°€ëŠ¥** (`Collections.sort()`ì—ì„œ ì‚¬ìš©)


### **ğŸ“Œ Comparator ì‚¬ìš© ì˜ˆì œ (ì»¤ìŠ¤í…€ ì •ë ¬)**
âœ” **ì—¬ëŸ¬ ê°œì˜ ì •ë ¬ ê¸°ì¤€ì„ ë§Œë“¤ ìˆ˜ ìˆìŒ**  
âœ” **`Collections.sort()` ë˜ëŠ” `List.sort()`ì—ì„œ ì‚¬ìš© ê°€ëŠ¥**  
âœ” **ìµëª… í´ë˜ìŠ¤, ëŒë‹¤ì‹, ë©”ì„œë“œ ì°¸ì¡°ë¡œ ë‹¤ì–‘í•˜ê²Œ êµ¬í˜„ ê°€ëŠ¥**

---

### **1ï¸âƒ£ ê¸°ë³¸ ì •ë ¬ (`Comparable` ì‚¬ìš©)**
ë¨¼ì €, `Comparable`ì„ ì´ìš©í•´ì„œ **ë‚˜ì´ìˆœ ì •ë ¬**í•˜ëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ì–´ë³´ì.

```java
import java.util.*;

class Person implements Comparable<Person> {
    String name;
    int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    @Override
    public int compareTo(Person other) {
        return Integer.compare(this.age, other.age); // ë‚˜ì´ìˆœ ì •ë ¬
    }

    @Override
    public String toString() {
        return name + " (" + age + "ì„¸)";
    }
}

public class Main {
    public static void main(String[] args) {
        List<Person> people = new ArrayList<>();
        people.add(new Person("Alice", 30));
        people.add(new Person("Bob", 25));
        people.add(new Person("Charlie", 35));

        Collections.sort(people); // ê¸°ë³¸ ì •ë ¬ (ë‚˜ì´ìˆœ)
        System.out.println(people); // [Bob (25ì„¸), Alice (30ì„¸), Charlie (35ì„¸)]
    }
}
```

âœ… **ê²°ê³¼:** `Comparable`ì„ ì‚¬ìš©í•˜ë©´ **ê¸°ë³¸ ì •ë ¬ ê¸°ì¤€(ë‚˜ì´ìˆœ)**ì´ ìë™ ì ìš©ë¨.

---

### **2ï¸âƒ£ `Comparator`ë¥¼ ì‚¬ìš©í•´ì„œ ì»¤ìŠ¤í…€ ì •ë ¬í•˜ê¸°**
âœ” **ì—¬ëŸ¬ ê°œì˜ ì •ë ¬ ê¸°ì¤€ì„ ë§Œë“¤ ìˆ˜ ìˆìŒ**  
âœ” **`Collections.sort(ë¦¬ìŠ¤íŠ¸, Comparator)` ì‚¬ìš©**

```java
import java.util.*;

class Person {
    String name;
    int age;

    public Person(String name, int age) {
        this.name = name;
        this.age = age;
    }

    @Override
    public String toString() {
        return name + " (" + age + "ì„¸)";
    }
}

public class Main {
    public static void main(String[] args) {
        List<Person> people = new ArrayList<>();
        people.add(new Person("Alice", 30));
        people.add(new Person("Bob", 25));
        people.add(new Person("Charlie", 35));

        // âœ… 1. ì´ë¦„ìˆœ ì •ë ¬ (Comparator ìµëª… í´ë˜ìŠ¤ ì‚¬ìš©)
        Comparator<Person> nameComparator = new Comparator<Person>() {
            @Override
            public int compare(Person p1, Person p2) {
                return p1.name.compareTo(p2.name);
            }
        };

        Collections.sort(people, nameComparator);
        System.out.println("ì´ë¦„ìˆœ ì •ë ¬: " + people); 
        // [Alice (30ì„¸), Bob (25ì„¸), Charlie (35ì„¸)]

        // âœ… 2. ë‚˜ì´ìˆœ ì •ë ¬ (ëŒë‹¤ì‹ ì‚¬ìš©)
        people.sort((p1, p2) -> Integer.compare(p1.age, p2.age));
        System.out.println("ë‚˜ì´ìˆœ ì •ë ¬: " + people); 
        // [Bob (25ì„¸), Alice (30ì„¸), Charlie (35ì„¸)]

        // âœ… 3. ë‚˜ì´ ì—­ìˆœ ì •ë ¬ (ë©”ì„œë“œ ì°¸ì¡°)
        people.sort(Comparator.comparingInt(Person::age).reversed());
        System.out.println("ë‚˜ì´ ì—­ìˆœ ì •ë ¬: " + people);
        // [Charlie (35ì„¸), Alice (30ì„¸), Bob (25ì„¸)]
    }
}
```

---

### **ğŸ’¡ ê²°ë¡ : Comparatorë¥¼ ì™œ ë” ë§ì´ ì‚¬ìš©í• ê¹Œ?**
âœ… `Comparable`ì€ **ê¸°ë³¸ ì •ë ¬ ê¸°ì¤€**ë§Œ ì„¤ì •í•  ìˆ˜ ìˆìŒ (ê°ì²´ ë‚´ë¶€ `compareTo()` ì˜¤ë²„ë¼ì´ë“œ í•„ìš”)  
âœ… `Comparator`ëŠ” **ì—¬ëŸ¬ ê°œì˜ ì •ë ¬ ê¸°ì¤€**ì„ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŒ  
âœ… `Comparator.comparingInt()` ê°™ì€ **ë©”ì„œë“œ ì°¸ì¡° í™œìš© ê°€ëŠ¥ â†’ ì½”ë“œ ê°„ê²°í™”**  
âœ… `reversed()` ë“± ë‹¤ì–‘í•œ ê¸°ëŠ¥ ì¶”ê°€ ê°€ëŠ¥ (ì˜ˆ: ë‚˜ì´ ì—­ìˆœ ì •ë ¬)

---

### **ğŸ“Œ 8. í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ & ëŒë‹¤**
- **`@FunctionalInterface` ì‚¬ìš©**
- **ëŒë‹¤ì‹ìœ¼ë¡œ ì½”ë“œ ê°„ê²°í™” ê°€ëŠ¥**

```java
@FunctionalInterface
interface MathOperation {
    int operate(int a, int b);
}

public class Main {
    public static void main(String[] args) {
        MathOperation add = (a, b) -> a + b;
        System.out.println(add.operate(5, 3)); // 8
    }
}
```

---

### **ğŸ“Œ 9. ë©”ì„œë“œ ì°¸ì¡° (`::`)**
- **ëŒë‹¤ì‹ ëŒ€ì‹  ë©”ì„œë“œ ì°¸ì¡°ë¡œ ë” ê°„ê²°í•˜ê²Œ í‘œí˜„ ê°€ëŠ¥**

```java
List<String> names = Arrays.asList("Alice", "Bob", "Charlie");
names.forEach(System.out::println);
```

---

### **ğŸ“Œ 10. `instanceof` ì—°ì‚°ì**
- **ê°ì²´ê°€ íŠ¹ì • í´ë˜ìŠ¤ ë˜ëŠ” ê·¸ í•˜ìœ„ í´ë˜ìŠ¤ì¸ì§€ í™•ì¸í•  ë•Œ ì‚¬ìš©**
- **ì—…ìºìŠ¤íŒ…í•´ë„ ì˜¤ë²„ë¼ì´ë”©ëœ ë©”ì„œë“œëŠ” ì‹¤ì œ ê°ì²´ ê¸°ì¤€ìœ¼ë¡œ ë™ì‘**
- **ë‹¤ìš´ìºìŠ¤íŒ… ì „ `instanceof`ë¥¼ ì‚¬ìš©í•˜ë©´ `ClassCastException` ë°©ì§€ ê°€ëŠ¥**

```java
class Animal {}
class Dog extends Animal {}

public class Main {
    public static void main(String[] args) {
        Animal myAnimal = new Dog();
        System.out.println(myAnimal instanceof Dog);   // true
        System.out.println(myAnimal instanceof Animal); // true
    }
}
```

---

### **ğŸ“Œ 11. ë‹¤ìš´ìºìŠ¤íŒ… ë‚´ë¶€ ë™ì‘ (JVM)**
âœ… **`Dog myDog = (Dog) myAnimal;` ì‹¤í–‰ ì‹œ JVM ë‚´ë¶€ ê³¼ì •**
1. **ê°ì²´ì˜ ì‹¤ì œ íƒ€ì… ê²€ì‚¬ (`myAnimal instanceof Dog`)**
2. **`instanceof` ê²€ì‚¬ í†µê³¼í•˜ë©´ ë‹¤ìš´ìºìŠ¤íŒ… ìˆ˜í–‰**
3. **ì°¸ì¡° ë³€ìˆ˜(`myDog`)ê°€ `Dog` íƒ€ì…ìœ¼ë¡œ ë³€í™˜ë¨**
4. **`Dog`ì—ë§Œ ìˆëŠ” ë©”ì„œë“œ í˜¸ì¶œ ê°€ëŠ¥**

```java
class Animal {
    void sound() { System.out.println("ë™ë¬¼ ì†Œë¦¬"); }
}

class Dog extends Animal {
    void bark() { System.out.println("ë©ë©!"); }
}

public class Main {
    public static void main(String[] args) {
        Animal myAnimal = new Dog();
        if (myAnimal instanceof Dog) {
            Dog myDog = (Dog) myAnimal;
            myDog.bark(); // "ë©ë©!" ì¶œë ¥ë¨!
        }
    }
}
```

ğŸ”¥ **ë§Œì•½ `myAnimal`ì´ `Dog` ê°ì²´ê°€ ì•„ë‹ˆë©´ `ClassCastException` ë°œìƒ!**
```java
Animal myAnimal = new Animal();
Dog myDog = (Dog) myAnimal; // âŒ ClassCastException ë°œìƒ!
```

---

### **âœ… ì˜¤ëŠ˜ ë°°ìš´ í•µì‹¬ ë‚´ìš©**
ğŸš€ **Enum í™œìš© (`HttpStatus` ì˜ˆì œ)**  
ğŸš€ **`static {}` ë¸”ë¡ì˜ ë™ì‘ ì›ë¦¬**  
ğŸš€ **`String` vs `new String()` ì°¨ì´ì **  
ğŸš€ **`StringBuilder` vs `StringBuffer` ì„ íƒ ê¸°ì¤€**  
ğŸš€ **`Optional`ì„ í™œìš©í•œ NPE ë°©ì§€**  
ğŸš€ **ê°ì²´ ë¹„êµ (`==` vs `equals()`)**  
ğŸš€ **`Comparable` vs `Comparator` ì°¨ì´ì **  
ğŸš€ **ëŒë‹¤ì‹ê³¼ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤**  
ğŸš€ **ë©”ì„œë“œ ì°¸ì¡° (`::`) í™œìš©**  
ğŸš€ **ì—…ìºìŠ¤íŒ…, ë‹¤ìš´ìºìŠ¤íŒ…, `instanceof` ì—°ì‚°ì ê°œë…**  
ğŸš€ **ë‹¤ìš´ìºìŠ¤íŒ… ì‹œ JVM ë‚´ë¶€ ë™ì‘ ì›ë¦¬**
