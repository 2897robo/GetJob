# NoSQL 개념 정리

## 1. NoSQL이란?
NoSQL은 "Not Only SQL"의 줄임말로, 관계형 데이터베이스(RDBMS)의 한계를 극복하기 위해 등장한 비관계형 데이터베이스이다. 대량의 데이터를 빠르게 처리하고 확장성이 뛰어난 것이 특징이다.

### NoSQL vs RDBMS 비교
| 구분 | RDBMS (관계형 DB) | NoSQL |
|------|-----------------|--------|
| 구조 | 테이블 기반 | 유연한 데이터 구조 (키-값, 문서, 컬럼, 그래프 등) |
| 확장성 | 수직 확장 (서버 성능 업그레이드) | 수평 확장 (서버 추가 가능) |
| 일관성 | 강한 일관성 (ACID) | 최종적 일관성 (BASE) |
| 사용 사례 | 금융, ERP, 전자상거래 등 | 빅데이터, 로그 분석, 캐싱, 소셜 네트워크 등 |

## 2. NoSQL의 주요 유형
NoSQL 데이터베이스는 저장 방식에 따라 네 가지 유형으로 나뉜다.

### 1️⃣ 키-값 저장소 (Key-Value Store)
- 데이터를 **키(Key) - 값(Value)** 쌍으로 저장
- 빠른 읽기/쓰기 성능을 제공
- 주로 **캐시, 세션 저장, 실시간 데이터 처리**에 활용
- **예시:** Redis, Amazon DynamoDB

### 2️⃣ 문서 지향 데이터베이스 (Document Store)
- 데이터를 JSON, BSON 등의 문서(Document) 형태로 저장
- **스키마 변경이 자유로워 다양한 데이터 저장 가능**
- **예시:** MongoDB, CouchDB
- **사용 사례:** 콘텐츠 관리 시스템(CMS), 전자상거래 플랫폼

### 3️⃣ 컬럼 패밀리 저장소 (Column-Family Store)
- 테이블을 컬럼 단위로 저장하여 **대량의 데이터 조회에 최적화**
- **수평 확장이 용이하고, 빅데이터 분석에 강점**
- **예시:** Apache Cassandra, HBase
- **사용 사례:** 시간 시리즈 데이터 (IoT, 로그 분석)

### 4️⃣ 그래프 데이터베이스 (Graph Database)
- 데이터를 **노드(Node)와 엣지(Edge)로 저장**하여 관계 기반 탐색 가능
- **SNS, 추천 시스템, 사기 탐지 등 관계 기반 데이터 분석에 적합**
- **예시:** Neo4j, Amazon Neptune

## 3. CAP 이론 & BASE 모델

### CAP 이론 (Consistency, Availability, Partition Tolerance)
- **분산 시스템에서는 3가지 속성(CAP)을 동시에 만족할 수 없다.**
    1. **일관성(Consistency):** 모든 노드에서 같은 데이터를 조회할 수 있어야 함
    2. **가용성(Availability):** 시스템 장애에도 응답을 받을 수 있어야 함
    3. **네트워크 분할 허용성(Partition Tolerance):** 네트워크 장애 시에도 운영 가능해야 함

- NoSQL은 **AP(가용성+분할 허용)** 또는 **CP(일관성+분할 허용)** 중 하나를 선택해야 한다.
    - **AP 모델:** Cassandra, Riak (높은 가용성, 최종적 일관성)
    - **CP 모델:** MongoDB, HBase (강한 일관성, 가용성 다소 낮음)

### BASE 모델 (NoSQL의 데이터 일관성 모델)
- **Basically Available:** 항상 일부 데이터를 제공할 수 있음
- **Soft-state:** 데이터 일관성이 즉각적이지 않을 수도 있음
- **Eventually Consistent:** 시간이 지나면 모든 노드에서 일관된 데이터 유지

## 4. NoSQL의 실제 활용 사례
| NoSQL 유형 | 예시 데이터베이스 | 주요 활용 분야 |
|------------|-----------------|---------------|
| **Key-Value** | Redis, DynamoDB | 캐싱, 세션 관리, 실시간 데이터 처리 |
| **Document** | MongoDB, CouchDB | CMS, 전자상거래, 로그 저장 |
| **Column-Family** | Cassandra, HBase | IoT, 빅데이터 분석, 시간 시리즈 데이터 |
| **Graph** | Neo4j, Amazon Neptune | SNS, 추천 시스템, 사기 탐지 |

## 5. 언제 NoSQL을 선택해야 할까?
✅ **NoSQL이 유리한 경우**
- 데이터 구조가 자주 변경되거나 유연해야 하는 경우
- 대량의 데이터를 빠르게 저장하고 조회해야 하는 경우
- 수평 확장이 필요한 경우 (클러스터 운영)
- 읽기 요청이 많고, 실시간 처리가 필요한 경우 (예: 캐싱, 로그 분석)

❌ **RDBMS가 더 적합한 경우**
- 강한 데이터 일관성이 필요한 경우 (금융, 회계, 주문 시스템)
- 복잡한 트랜잭션이 필요한 경우
- 데이터 간 관계가 중요한 경우 (JOIN이 많음)

## 6. 정리
- NoSQL은 **유연한 데이터 모델과 확장성**을 제공하여 **대량 데이터 처리에 강점**이 있음
- 다양한 유형(Key-Value, Document, Column-Family, Graph)으로 활용 가능
- CAP 이론에 따라 **일관성(C), 가용성(A), 분할 허용성(P) 중 두 가지 속성을 선택**해야 함
- BASE 모델을 기반으로 **최종적 일관성(Eventual Consistency)**을 보장하는 방식으로 동작
- **RDBMS와 NoSQL은 상호 배타적인 것이 아니라, 상황에 따라 병행 활용 가능**

NoSQL을 선택할 때는 **데이터의 특성, 확장성 요구사항, 성능 최적화 방향** 등을 고려하여 적절한 기술을 선택하는 것이 중요하다! 🚀

